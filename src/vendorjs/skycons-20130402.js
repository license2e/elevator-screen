var Skycons;
(function(q){function x(a,b,d,f,c){a.beginPath();a.moveTo(b,d);a.lineTo(f,c);a.stroke()}function z(a,b,d,f,c,e,k,h){var m;for(m=5;m--;){var j=a,g=b+m/5,l=d,p=f,u=c,r=e,s=k,t=h,q=Math.cos(g*n),g=Math.sin(g*n),t=t-s,l=l-g*u,p=p+q*r+0.5*t,s=s+(1-0.5*q)*t;j.beginPath();j.arc(l,p,s,0,n,!1);j.fill()}}function y(a,b,d,f,c,e,k){b/=3E4;var h=0.21*c,m=0.12*c,j=0.24*c;c*=0.28;a.fillStyle=k;z(a,b,d,f,h,m,j,c);a.globalCompositeOperation="destination-out";z(a,b,d,f,h,m,j-e,c-e);a.globalCompositeOperation="source-over"}
function C(a,b,d,f,c,e,k){b/=12E4;var h=0.25*c-0.5*e,m=0.32*c+0.5*e;c=0.5*c-0.5*e;a.strokeStyle=k;a.lineWidth=e;a.lineCap="round";a.lineJoin="round";a.beginPath();a.arc(d,f,h,0,n,!1);a.stroke();for(e=8;e--;)h=(b+e/8)*n,k=Math.cos(h),h=Math.sin(h),x(a,d+k*m,f+h*m,d+k*c,f+h*c)}function D(a,b,d,f,c,e,k){var h=0.29*c-0.5*e;c*=0.05;b=Math.cos(b/15E3*n);var m=b*n/-16;a.strokeStyle=k;a.lineWidth=e;a.lineCap="round";a.lineJoin="round";d+=b*c;a.beginPath();a.arc(d,f,h,m+n/8,m+7*n/8,!1);a.arc(d+Math.cos(m)*
h*E,f+Math.sin(m)*h*E,h,m+5*n/8,m+3*n/8,!0);a.closePath();a.stroke()}function F(a,b,d,f,c,e,k,h,m){b/=2500;var j=J[k],g=(b+k-G[k].start)%h,l=(b+k-G[k].end)%h;k=(b+k)%h;a.strokeStyle=m;a.lineWidth=e;a.lineCap="round";a.lineJoin="round";if(1>g){a.beginPath();g*=j.length/2-1;h=Math.floor(g);g-=h;h=2*h+2;a.moveTo(d+(j[h-2]*(1-g)+j[h]*g)*c,f+(j[h-1]*(1-g)+j[h+1]*g)*c);if(1>l){l*=j.length/2-1;g=Math.floor(l);l-=g;for(g=2*g+2;h!==g;h+=2)a.lineTo(d+j[h]*c,f+j[h+1]*c);a.lineTo(d+(j[g-2]*(1-l)+j[g]*l)*c,f+
(j[g-1]*(1-l)+j[g+1]*l)*c)}else for(;h!==j.length;h+=2)a.lineTo(d+j[h]*c,f+j[h+1]*c);a.stroke()}else if(1>l){a.beginPath();l*=j.length/2-1;g=Math.floor(l);l-=g;g*=2;g+=2;a.moveTo(d+j[0]*c,f+j[1]*c);for(h=2;h!==g;h+=2)a.lineTo(d+j[h]*c,f+j[h+1]*c);a.lineTo(d+(j[g-2]*(1-l)+j[g]*l)*c,f+(j[g-1]*(1-l)+j[g+1]*l)*c);a.stroke()}1>k&&(k*=j.length/2-1,l=Math.floor(k),k-=l,l=2*l+2,d+=(j[l-2]*(1-k)+j[l]*k)*c,f+=(j[l-1]*(1-k)+j[l+1]*k)*c,c/=8,j=c/3,l=2*j,b=b%1*n,k=Math.cos(b),g=Math.sin(b),a.fillStyle=m,a.strokeStyle=
m,a.lineWidth=e,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.arc(d,f,c,b,b+Math.PI,!1),a.arc(d-j*k,f-j*g,l,b+Math.PI,b,!1),a.arc(d+l*k,f+l*g,j,b+Math.PI,b,!0),a.globalCompositeOperation="destination-out",a.fill(),a.globalCompositeOperation="source-over",a.stroke())}var A,B,H=q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame,I=q.cancelAnimationFrame||q.webkitCancelAnimationFrame||q.mozCancelAnimationFrame||
q.oCancelAnimationFrame||q.msCancelAnimationFrame;H&&I?(A=function(a){function b(){d.value=H(b);a()}var d={value:null};b();return d},B=function(a){I(a.value)}):(A=setInterval,B=clearInterval);var n=2*Math.PI,E=2/Math.sqrt(2),J=[[-0.75,-0.18,-0.7219,-0.1527,-0.6971,-0.1225,-0.6739,-0.091,-0.6516,-0.0588,-0.6298,-0.0262,-0.6083,0.0065,-0.5868,0.0396,-0.5643,0.0731,-0.5372,0.1041,-0.5033,0.1259,-0.4662,0.1406,-0.4275,0.1493,-0.3881,0.153,-0.3487,0.1526,-0.3095,0.1488,-0.2708,0.1421,-0.2319,0.1342,-0.1943,
0.1217,-0.16,0.1025,-0.129,0.0785,-0.1012,0.0509,-0.0764,0.0206,-0.0547,-0.012,-0.0378,-0.0472,-0.0324,-0.0857,-0.0389,-0.1241,-0.0546,-0.1599,-0.0814,-0.1876,-0.1193,-0.1964,-0.1582,-0.1935,-0.1931,-0.1769,-0.2157,-0.1453,-0.229,-0.1085,-0.2327,-0.0697,-0.224,-0.0317,-0.2064,0.0033,-0.1853,0.0362,-0.1613,0.0672,-0.135,0.0961,-0.1051,0.1213,-0.0706,0.1397,-0.0332,0.1512,0.0053,0.158,0.0442,0.1624,0.0833,0.1636,0.1224,0.1615,0.1613,0.1565,0.1999,0.15,0.2378,0.1402,0.2749,0.1279,0.3118,0.1147,0.3487,
0.1015,0.3858,0.0892,0.4236,0.0787,0.4621,0.0715,0.5012,0.0702,0.5398,0.0766,0.5768,0.089,0.6123,0.1055,0.6466,0.1244,0.6805,0.144,0.7147,0.163,0.75,0.18],[-0.75,0,-0.7033,0.0195,-0.6569,0.0399,-0.6104,0.06,-0.5634,0.0789,-0.5155,0.0954,-0.4667,0.1089,-0.4174,0.1206,-0.3676,0.1299,-0.3174,0.1365,-0.2669,0.1398,-0.2162,0.1391,-0.1658,0.1347,-0.1157,0.1271,-0.0661,0.1169,-0.017,0.1046,0.0316,0.0903,0.0791,0.0728,0.1259,0.0534,0.1723,0.0331,0.2188,0.0129,0.2656,-0.0064,0.3122,-0.0263,0.3586,-0.0466,
0.4052,-0.0665,0.4525,-0.0847,0.5007,-0.1002,0.5497,-0.113,0.5991,-0.124,0.6491,-0.1325,0.6994,-0.138,0.75,-0.14]],G=[{start:0.36,end:0.11},{start:0.56,end:0.16}];Skycons=function(a){this.list=[];this.interval=null;this.color=a&&a.color?a.color:"black";this.resizeClear=!(!a||!a.resizeClear)};Skycons.CLEAR_DAY=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c);C(a,b,0.5*f,0.5*c,e,0.08*e,d)};Skycons.CLEAR_NIGHT=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,
c);D(a,b,0.5*f,0.5*c,e,0.08*e,d)};Skycons.PARTLY_CLOUDY_DAY=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c);C(a,b,0.625*f,0.375*c,0.75*e,0.08*e,d);y(a,b,0.375*f,0.625*c,0.75*e,0.08*e,d)};Skycons.PARTLY_CLOUDY_NIGHT=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c);D(a,b,0.667*f,0.375*c,0.75*e,0.08*e,d);y(a,b,0.375*f,0.625*c,0.75*e,0.08*e,d)};Skycons.CLOUDY=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c);y(a,b,0.5*f,0.5*c,e,0.08*e,
d)};Skycons.RAIN=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c),k,h=0.5*f,m=0.37*c,j=0.9*e,g=0.08*e;k=b/1350;var l=0.16*j,p=11*n/12,u=7*n/12,r,s,t;a.fillStyle=d;for(r=4;r--;)s=(k+r/4)%1,t=h+(r-1.5)/1.5*(1===r||2===r?-1:1)*l,s=m+s*s*j,a.beginPath(),a.moveTo(t,s-1.5*g),a.arc(t,s,0.75*g,p,u,!1),a.fill();y(a,b,0.5*f,0.37*c,0.9*e,0.08*e,d)};Skycons.SLEET=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c),k,h=0.5*f,m=0.37*c,j=0.9*e,g=0.08*e;k=b/750;var l=0.1875*
j,p,n,r;a.strokeStyle=d;a.lineWidth=0.5*g;a.lineCap="round";a.lineJoin="round";for(p=4;p--;)n=(k+p/4)%1,r=Math.floor(h+(p-1.5)/1.5*(1===p||2===p?-1:1)*l)+0.5,n=m+n*j,x(a,r,n-1.5*g,r,n+1.5*g);y(a,b,0.5*f,0.37*c,0.9*e,0.08*e,d)};Skycons.SNOW=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c),k,h=0.5*f,m=0.37*c,j=0.9*e,g=0.08*e;k=b/3E3;var l=0.16*j,p=0.75*g,u=0.7*k*n,r=Math.cos(u)*p,s=Math.sin(u)*p,t=u+n/3,q=Math.cos(t)*p,t=Math.sin(t)*p,w=u+2*n/3,u=Math.cos(w)*p,p=Math.sin(w)*p,
v;a.strokeStyle=d;a.lineWidth=0.5*g;a.lineCap="round";a.lineJoin="round";for(g=4;g--;)v=(k+g/4)%1,w=h+Math.sin((v+g/4)*n)*l,v=m+v*j,x(a,w-r,v-s,w+r,v+s),x(a,w-q,v-t,w+q,v+t),x(a,w-u,v-p,w+u,v+p);y(a,b,0.5*f,0.37*c,0.9*e,0.08*e,d)};Skycons.WIND=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c);F(a,b,0.5*f,0.5*c,e,0.08*e,0,2,d);F(a,b,0.5*f,0.5*c,e,0.08*e,1,2,d)};Skycons.FOG=function(a,b,d){var f=a.canvas.width,c=a.canvas.height,e=Math.min(f,c),k=0.08*e,h,m=0.5*f,j=0.32*c,g=0.75*
e;h=b/3E4;var l=0.21*g,p=0.06*g,q=0.21*g,g=0.28*g;a.fillStyle=d;z(a,h,m,j,l,p,q,g);a.globalCompositeOperation="destination-out";z(a,h,m,j,l,p,q-k,g-k);a.globalCompositeOperation="source-over";b/=5E3;h=0.02*Math.cos(b*n)*e;m=0.02*Math.cos((b+0.25)*n)*e;j=0.02*Math.cos((b+0.5)*n)*e;b=0.02*Math.cos((b+0.75)*n)*e;e=0.936*c;c=Math.floor(e-0.5*k)+0.5;e=Math.floor(e-2.5*k)+0.5;a.strokeStyle=d;a.lineWidth=k;a.lineCap="round";a.lineJoin="round";x(a,h+0.2*f+0.5*k,c,m+0.8*f-0.5*k,c);x(a,j+0.2*f+0.5*k,e,b+0.8*
f-0.5*k,e)};Skycons.prototype={add:function(a,b){var d;"string"===typeof a&&(a=document.getElementById(a));d={element:a,context:a.getContext("2d"),drawing:b};this.list.push(d);this.draw(d,500)},set:function(a,b){var d;"string"===typeof a&&(a=document.getElementById(a));for(d=this.list.length;d--;)if(this.list[d].element===a){this.list[d].drawing=b;this.draw(this.list[d],500);return}this.add(a,b)},remove:function(a){var b;"string"===typeof a&&(a=document.getElementById(a));for(b=this.list.length;b--;)if(this.list[b].element===
a){this.list.splice(b,1);break}},draw:function(a,b){var d=a.context.canvas;this.resizeClear?d.width=d.width:a.context.clearRect(0,0,d.width,d.height);a.drawing(a.context,b,this.color)},play:function(){var a=this;this.pause();this.interval=A(function(){var b=Date.now(),d;for(d=a.list.length;d--;)a.draw(a.list[d],b)},1E3/60)},pause:function(){this.interval&&(B(this.interval),this.interval=null)}}})(this);